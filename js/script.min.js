var link = document.querySelector(".contacts-btn"), popup = document.querySelector(".modal"), close = popup.querySelector(".modal-close"), login = popup.querySelector("[name=feedback-name]"), email = popup.querySelector("[name=feedback-e-mail]"), messagetext = popup.querySelector("[name=message-text]"), form = popup.querySelector("form"); link.addEventListener("click", function (e) { e.preventDefault(), popup.classList.add("modal-show"), login.focus() }), close.addEventListener("click", function (e) { e.preventDefault(), popup.classList.remove("modal-show"), popup.classList.remove("modal-error") }), form.addEventListener("submit", function (e) { login.value ? email.value ? messagetext.value || (e.preventDefault(), popup.classList.remove("modal-error"), popup.offsetWidth = popup.offsetWidth, popup.classList.add("modal-error"), console.log("Введите текст письма")) : (e.preventDefault(), popup.classList.remove("modal-error"), popup.offsetWidth = popup.offsetWidth, popup.classList.add("modal-error"), console.log("Введите адрес вашей электронной почты")) : (e.preventDefault(), popup.classList.remove("modal-error"), popup.offsetWidth = popup.offsetWidth, popup.classList.add("modal-error"), console.log("Введите имя и фамилию")) }), window.addEventListener("keydown", function (e) { 27 === e.keyCode && (e.preventDefault(), popup.classList.contains("modal-show") && (popup.classList.remove("modal-show"), popup.classList.remove("modal-error"))) });